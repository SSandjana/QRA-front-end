<div id="container" class="container pt-5 pb-5 mt-5">
  <h1 class="text-center">User Information</h1>
  <div class="main-body">
    <div class="row gutters-sm">
      <div class="col-md-5">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle"
                   width="150">
              <div class="mt-3">
                <h4>{{getUser().firstName + ' ' + getUser().lastName}}</h4>
                <p class="text-secondary mb-1">{{getUser().role.type}}</p>
                <p class="text-muted font-size-sm">Paramaribo, Suriname</p>
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#passwordModal">Change
                  password
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-7">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().firstName + ' ' + getUser().lastName}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">Username</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().username}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">ID Number</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().idNumber}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">Date of Birth</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().dob}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">Telephone</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().telephone}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-4">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-8 text-secondary">
                {{getUser().email}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="passwordModal" tabindex="-1" role="dialog"
     aria-labelledby="passwordModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="passwordModalLabel">Change password</h5>
        <button type="button" #closeModal class="btn-close" data-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container" id="main-container">
          <form (ngSubmit)="changePassword()" [formGroup]="passwordForm">
            <div class="mb-3 row">
              <label for="password" class="col-sm-4 col-form-label">Current password</label>
              <div class="col-sm-8">
                <input [formControlName]="'password'" type="password" class="form-control" id="password">
                <div *ngIf="passwordForm.get('password').touched && passwordForm.get('password').errors">
                <span class="text-danger" *ngIf="passwordForm.get('password').errors.required">
                Password required</span>
                </div>
              </div>
            </div>
            <div class="mb-3 row">
              <label for="password" class="col-sm-4 col-form-label">New password</label>
              <div class="col-sm-8">
                <input [formControlName]="'newPassword'" type="password" class="form-control" id="newPassword">
                <div *ngIf="passwordForm.get('newPassword').touched && passwordForm.get('newPassword').errors">
                <span class="text-danger" *ngIf="passwordForm.get('newPassword').errors.required">
                New password required</span>
                  <span class="text-danger" *ngIf="passwordForm.get('newPassword').errors.minlength">
                New password must be at least 8 characters</span>
                </div>
              </div>
            </div>
            <div class="mb-3 row">
              <label for="confirmPassword" class="col-sm-4 col-form-label">Confirm password</label>
              <div class="col-sm-8">
                <input [formControlName]="'confirmPassword'" type="password" class="form-control" id="confirmPassword">
                <div *ngIf="passwordForm.get('confirmPassword').touched && passwordForm.get('confirmPassword').errors">
                  <span class="text-danger" *ngIf="passwordForm.get('confirmPassword').errors.required">Confirm password is required</span>
                  <span class="text-danger"
                        *ngIf="passwordForm.get('confirmPassword').errors.mustMatch">Confirm password did not match</span>
                </div>
              </div>
            </div>
            <div class="text-center">
              <button class="btn btn-primary" type="submit">Change password</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
